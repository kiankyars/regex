Adding comprehensive edge case tests and fixing any discovered bugs.
